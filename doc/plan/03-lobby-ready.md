# Phase 03: ロビー準備状態

## 概要
全員が「準備OK」を押したらゲーム開始できる仕組みを実装する。

## ゴール
- 各プレイヤーが準備状態を切り替えられる。
- ホストが「ゲーム開始」ボタンを押せる（全員準備完了時のみ）。
- ゲーム開始時に全員を次フェーズ（お題入力）へ遷移させる。

---

## 成果物
- 準備状態の切り替え WS イベント
- ゲーム開始 WS イベント
- フロント: 準備ボタン、開始ボタン（ホストのみ）

---

## 機能要件

### サーバ側
| イベント | 方向 | 説明 |
|----------|------|------|
| `toggle_ready` | Client → Server | 自分の ready を反転 |
| `players_updated` | Server → All | ready 状態含むプレイヤー一覧 |
| `start_game` | Client (host) → Server | 全員 ready なら開始 |
| `game_started` | Server → All | ゲーム開始通知、フェーズ遷移指示 |

### フロント側
| 機能 | 説明 |
|------|------|
| 準備ボタン | 押すと ready 状態がトグル |
| プレイヤー一覧 | ready 状態を視覚的に表示（✓ / ○） |
| 開始ボタン | ホストのみ表示、全員 ready で活性化 |

---

## タスク

### サーバ
- [x] `toggle_ready` ハンドラ
- [x] `start_game` ハンドラ（ready 全員チェック）
- [x] Room.status を `playing` へ更新
- [x] `game_started` ブロードキャスト

### フロント
- [x] 準備ボタン UI + 状態管理
- [x] プレイヤー一覧に ready 表示
- [x] ホスト判定ロジック
- [x] 開始ボタン（disabled 制御）
- [x] `game_started` 受信 → 次画面へ遷移

---

## 受け入れ条件
- [x] 準備ボタンを押すと他プレイヤーにも反映される
- [x] 全員 ready でないとホストは開始ボタンを押せない
- [x] 開始後、全員が同時に次画面へ遷移する

---

## 依存関係
- Phase 02 完了（ルーム参加可能）

## 次フェーズへの引き継ぎ
- Room.status 管理
- ゲーム開始トリガー
